<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="getUserByEmailAndPasswordSql" class="java.lang.String">
        <constructor-arg value="SELECT u.id, u.email, u.password, u.first_name, u.last_name, r.name role_name
                                FROM movieland.users u
                                LEFT JOIN movieland.user_roles ur ON u.id = ur.user_id
                                JOIN movieland.roles r ON ur.role_id = r.id
                                WHERE u.email = :email
                                AND u.password = :password;"/>
    </bean>

</beans>